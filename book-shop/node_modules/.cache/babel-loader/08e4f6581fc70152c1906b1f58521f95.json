{"remainingRequest":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\babel-loader\\lib\\index.js!D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\111study\\web\\js_vue\\ewshop\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue","mtime":1614934563972},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5hdkJhciBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9uYXZiYXIvTmF2QmFyIjsKaW1wb3J0IFJlY29tbWVuZFZpZXcgZnJvbSAidmlld3MvaG9tZS9DaGlsZENvbXBzL1JlY29tbWVuZFZpZXciOwppbXBvcnQgdGFiQ29udHJvbCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC90YWJDb250cm9sIjsKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0IjsKaW1wb3J0IHsgZ2V0SG9tZUFsbERhdGEsIGdldEhvbWVHb29kcyB9IGZyb20gIm5ldHdvcmsvaG9tZSI7CmltcG9ydCB7IHJlZiwgcmVhY3RpdmUsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgQlNjcm9sbCBmcm9tICdAYmV0dGVyLXNjcm9sbC9jb3JlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcmVjb21tZW5kcyA9IHJlZihbXSk7IC8v5ZWG5ZOB5YiX6KGo5pWw5o2u5qih5Z6LCgogICAgdmFyIGdvb2RzID0gcmVhY3RpdmUoewogICAgICBzYWxlczogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgbGlzdDogW10KICAgICAgfSwKICAgICAgbmV3OiB7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBsaXN0OiBbXQogICAgICB9LAogICAgICByZWNvbW1lbmQ6IHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIGxpc3Q6IFtdCiAgICAgIH0KICAgIH0pOwogICAgdmFyIGN1cnJlbnRUeXBlID0gcmVmKCJzYWxlcyIpOwogICAgdmFyIHNob3dHb29kcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGdvb2RzW2N1cnJlbnRUeXBlLnZhbHVlXS5saXN0OwogICAgfSk7CiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBnZXRIb21lQWxsRGF0YSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlY29tbWVuZHMudmFsdWUgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7CiAgICAgIGdldEhvbWVHb29kcygic2FsZXMiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGdvb2RzLnNhbGVzLmxpc3QgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7CiAgICAgIGdldEhvbWVHb29kcygicmVjb21tZW5kIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZ29vZHMucmVjb21tZW5kLmxpc3QgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7CiAgICAgIGdldEhvbWVHb29kcygibmV3IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZ29vZHMubmV3Lmxpc3QgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7IC8v5Yib5bu6YmV0dGVyc2Nyb2xs5a+56LGhCgogICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJyk7CiAgICAgIHZhciBzY3JvbGwgPSBuZXcgQlNjcm9sbCgnd3JhcHBlcicsIHsKICAgICAgICBzY3JvbGxZOiB0cnVlLAogICAgICAgIGNsaWNrOiB0cnVlCiAgICAgIH0pOyAvLyBsZXQgYnMgPSBuZXcgQlNjcm9sbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIud3JhcHBlciIpLCB7CiAgICAgIC8vICAgICBzY3JvbGxZOnRydWUsCiAgICAgIC8vICAgICBwcm9iZVR5cGU6IDMsLy/lj6ropoHlnKjov5DliqjlsLHop6blj5FzY3JvbGzkuovku7YKICAgICAgLy8gICAgIGNsaWNrOiB0cnVlLC8v5piv5ZCm5YWB6K6454K55Ye7CiAgICAgIC8vICAgICBwdWxsVXBMb2FkOnRydWUsLy/kuIrmi4nliqDovb3mm7TlpJrvvIzpu5jorqTkuLpmYWxzZQogICAgICAvLyB9KTsKICAgICAgLy/op6blj5Hmu5rliqjkuovku7YKICAgICAgLy8gYnNjcm9sbC5vbignc2Nyb2xsJywocG9zaXRpb24pPT57CiAgICAgIC8vICAgICBjb25zb2xlLmxvZyhwb3NpdGlvbi55KTsKICAgICAgLy8gfSkKICAgIH0pOwoKICAgIHZhciB0YWJDbGlja2sgPSBmdW5jdGlvbiB0YWJDbGlja2soaW5kZXgpIHsKICAgICAgdmFyIHR5cGUgPSBbInNhbGVzIiwgIm5ldyIsICJyZWNvbW1lbmQiXTsKICAgICAgY3VycmVudFR5cGUudmFsdWUgPSB0eXBlW2luZGV4XTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcmVjb21tZW5kczogcmVjb21tZW5kcywKICAgICAgdGFiQ2xpY2trOiB0YWJDbGlja2ssCiAgICAgIGdvb2RzOiBnb29kcywKICAgICAgY3VycmVudFR5cGU6IGN1cnJlbnRUeXBlLAogICAgICBzaG93R29vZHM6IHNob3dHb29kcwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE5hdkJhcjogTmF2QmFyLAogICAgUmVjb21tZW5kVmlldzogUmVjb21tZW5kVmlldywKICAgIHRhYkNvbnRyb2w6IHRhYkNvbnRyb2wsCiAgICBHb29kc0xpc3Q6IEdvb2RzTGlzdAogIH0KfTs="},{"version":3,"sources":["D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"home\">\n        <nav-bar>\n            <template v-slot:default>图书商城</template>\n        </nav-bar>\n        <div class=\"wrapper\">\n            <div class=\"content\">\n                <div class=\"banners\"><img src=\"~assets/images/1.png\" /></div>\n                <recommend-view :recommends=\"recommends\"></recommend-view>\n                <tab-control\n                    :titles=\"['畅销', '新书', '精选']\"\n                    @tabClick=\"tabClickk\"\n                ></tab-control>\n                <goods-list :goods=\"showGoods\"></goods-list>\n            </div>\n        </div>\n    </div>\n</template>                                     \n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\nimport RecommendView from \"views/home/ChildComps/RecommendView\";\nimport tabControl from \"components/content/tabControl/tabControl\";\nimport GoodsList from \"components/content/goods/GoodsList\";\nimport { getHomeAllData, getHomeGoods } from \"network/home\";\nimport { ref, reactive, onMounted, computed } from \"vue\";\nimport BScroll from '@better-scroll/core';\n\nexport default {\n    name: \"Home\",\n    setup() {\n        const recommends = ref([]);\n\n        //商品列表数据模型\n        const goods = reactive({\n            sales: { page: 0, list: [] },\n            new: { page: 0, list: [] },\n            recommend: { page: 0, list: [] },\n        });\n\n        let currentType = ref(\"sales\");\n\n        const showGoods = computed(() => {\n            return goods[currentType.value].list;\n        });\n\n        onMounted(() => {\n            getHomeAllData().then((res) => {\n               \n                recommends.value = res.goods.data;\n            });\n\n            getHomeGoods(\"sales\").then((res) => {\n                console.log(res);\n                goods.sales.list = res.goods.data;\n            });\n            getHomeGoods(\"recommend\").then((res) => {\n                goods.recommend.list = res.goods.data;\n            });\n            getHomeGoods(\"new\").then((res) => {\n                goods.new.list = res.goods.data;\n            });\n\n            //创建betterscroll对象\n            let wrapper = document.querySelector('.wrapper');\n            let scroll = new BScroll('wrapper',{\n                scrollY:true,\n                click: true\n            });\n\n            // let bs = new BScroll(document.querySelector(\".wrapper\"), {\n            //     scrollY:true,\n            //     probeType: 3,//只要在运动就触发scroll事件\n            //     click: true,//是否允许点击\n            //     pullUpLoad:true,//上拉加载更多，默认为false\n            // });\n\n            //触发滚动事件\n            // bscroll.on('scroll',(position)=>{\n            //     console.log(position.y);\n            // })\n        });\n\n        const tabClickk = (index) => {\n            let type = [\"sales\", \"new\", \"recommend\"];\n            currentType.value = type[index];\n        };\n\n        return {\n            recommends,\n            tabClickk,\n            goods,\n            currentType,\n            showGoods,\n        };\n    },\n    components: {\n        NavBar,\n        RecommendView,\n        tabControl,\n        GoodsList,\n    },\n};\n</script>\n\n<style scoped>\n.banners img {\n    width: 100%;\n    height: auto;\n    margin-top: 45px;\n}\n#home {\n    height: 100vh;\n    position: relative;\n}\n.wrapper {\n    position: absolute;\n    top: 45px;\n    bottom: 50px;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n}\n.content {\n    \n}\n</style>\n"],"sourceRoot":""}]}