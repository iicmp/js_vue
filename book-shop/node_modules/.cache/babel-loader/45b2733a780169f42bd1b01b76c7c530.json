{"remainingRequest":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\babel-loader\\lib\\index.js!D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\111study\\web\\js_vue\\ewshop\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue","mtime":1614872710894},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5hdkJhciBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9uYXZiYXIvTmF2QmFyIjsKaW1wb3J0IFJlY29tbWVuZFZpZXcgZnJvbSAidmlld3MvaG9tZS9DaGlsZENvbXBzL1JlY29tbWVuZFZpZXciOwppbXBvcnQgdGFiQ29udHJvbCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC90YWJDb250cm9sIjsKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0IjsKaW1wb3J0IHsgZ2V0SG9tZUFsbERhdGEsIGdldEhvbWVHb29kcyB9IGZyb20gIm5ldHdvcmsvaG9tZSI7CmltcG9ydCB7IHJlZiwgcmVhY3RpdmUsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByZWNvbW1lbmRzID0gcmVmKFtdKTsgLy/llYblk4HliJfooajmlbDmja7mqKHlnosKCiAgICB2YXIgZ29vZHMgPSByZWFjdGl2ZSh7CiAgICAgIHNhbGVzOiB7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBsaXN0OiBbXQogICAgICB9LAogICAgICBuZXc6IHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIGxpc3Q6IFtdCiAgICAgIH0sCiAgICAgIHJlY29tbWVuZDogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgbGlzdDogW10KICAgICAgfQogICAgfSk7CiAgICB2YXIgY3VycmVudFR5cGUgPSByZWYoJ3NhbGVzJyk7CiAgICB2YXIgc2hvd0dvb2RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZ29vZHNbY3VycmVudFR5cGUudmFsdWVdLmxpc3Q7CiAgICB9KTsKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldEhvbWVBbGxEYXRhKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVjb21tZW5kcy52YWx1ZSA9IHJlcy5nb29kcy5kYXRhOwogICAgICB9KTsKICAgICAgZ2V0SG9tZUdvb2RzKCdzYWxlcycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGdvb2RzLnNhbGVzLmxpc3QgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7CiAgICAgIGdldEhvbWVHb29kcygncmVjb21tZW5kJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZ29vZHMucmVjb21tZW5kLmxpc3QgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7CiAgICAgIGdldEhvbWVHb29kcygnbmV3JykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgZ29vZHMubmV3Lmxpc3QgPSByZXMuZ29vZHMuZGF0YTsKICAgICAgfSk7CiAgICB9KTsKCiAgICB2YXIgdGFiQ2xpY2trID0gZnVuY3Rpb24gdGFiQ2xpY2trKGluZGV4KSB7CiAgICAgIHZhciB0eXBlID0gWydzYWxlcycsICduZXcnLCAncmVjb21tZW5kJ107CiAgICAgIGN1cnJlbnRUeXBlLnZhbHVlID0gdHlwZVtpbmRleF07CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHJlY29tbWVuZHM6IHJlY29tbWVuZHMsCiAgICAgIHRhYkNsaWNrazogdGFiQ2xpY2trLAogICAgICBnb29kczogZ29vZHMsCiAgICAgIGN1cnJlbnRUeXBlOiBjdXJyZW50VHlwZSwKICAgICAgc2hvd0dvb2RzOiBzaG93R29vZHMKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXI6IE5hdkJhciwKICAgIFJlY29tbWVuZFZpZXc6IFJlY29tbWVuZFZpZXcsCiAgICB0YWJDb250cm9sOiB0YWJDb250cm9sLAogICAgR29vZHNMaXN0OiBHb29kc0xpc3QKICB9Cn07"},{"version":3,"sources":["D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue"],"names":[],"mappings":"AAiBA,OAAO,MAAP,MAAmB,iCAAnB;AACA,OAAO,aAAP,MAA0B,qCAA1B;AACA,OAAO,UAAP,MAAuB,0CAAvB;AACA,OAAO,SAAP,MAAsB,oCAAtB;AACA,SAAS,cAAT,EAAyB,YAAzB,QAA4C,cAA5C;AACA,SAAS,GAAT,EAAc,QAAd,EAAwB,SAAxB,EAAkC,QAAlC,QAAkD,KAAlD;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,UAAS,GAAI,GAAG,CAAC,EAAD,CAAtB,CADM,CAIN;;AACA,QAAM,KAAK,GAAC,QAAQ,CAAC;AACnB,MAAA,KAAK,EAAC;AAAC,QAAA,IAAI,EAAC,CAAN;AAAQ,QAAA,IAAI,EAAC;AAAb,OADa;AAEnB,MAAA,GAAG,EAAC;AAAC,QAAA,IAAI,EAAC,CAAN;AAAQ,QAAA,IAAI,EAAC;AAAb,OAFe;AAGnB,MAAA,SAAS,EAAC;AAAC,QAAA,IAAI,EAAC,CAAN;AAAQ,QAAA,IAAI,EAAC;AAAb;AAHS,KAAD,CAApB;AAMA,QAAI,WAAW,GAAC,GAAG,CAAC,OAAD,CAAnB;AAEA,QAAM,SAAQ,GAAI,QAAQ,CAAC,YAAI;AAC7B,aAAO,KAAK,CAAC,WAAW,CAAC,KAAb,CAAL,CAAyB,IAAhC;AAED,KAHyB,CAA1B;AAKA,IAAA,SAAS,CAAC,YAAM;AAEd,MAAA,cAAc,GAAG,IAAjB,CAAsB,UAAC,GAAD,EAAS;AAC7B,QAAA,UAAU,CAAC,KAAX,GAAiB,GAAG,CAAC,KAAJ,CAAU,IAA3B;AACD,OAFD;AAIA,MAAA,YAAY,CAAC,OAAD,CAAZ,CAAsB,IAAtB,CAA2B,UAAA,GAAG,EAAE;AAC9B,QAAA,KAAK,CAAC,KAAN,CAAY,IAAZ,GAAiB,GAAG,CAAC,KAAJ,CAAU,IAA3B;AACD,OAFD;AAGA,MAAA,YAAY,CAAC,WAAD,CAAZ,CAA0B,IAA1B,CAA+B,UAAA,GAAG,EAAE;AAClC,QAAA,KAAK,CAAC,SAAN,CAAgB,IAAhB,GAAqB,GAAG,CAAC,KAAJ,CAAU,IAA/B;AACD,OAFD;AAGA,MAAA,YAAY,CAAC,KAAD,CAAZ,CAAoB,IAApB,CAAyB,UAAA,GAAG,EAAE;AAC5B,QAAA,KAAK,CAAC,GAAN,CAAU,IAAV,GAAe,GAAG,CAAC,KAAJ,CAAU,IAAzB;AACD,OAFD;AAMD,KAlBQ,CAAT;;AAoBA,QAAM,SAAS,GAAC,SAAV,SAAU,CAAC,KAAD,EAAS;AACvB,UAAI,IAAI,GAAC,CAAC,OAAD,EAAS,KAAT,EAAe,WAAf,CAAT;AACA,MAAA,WAAW,CAAC,KAAZ,GAAkB,IAAI,CAAC,KAAD,CAAtB;AACF,KAHA;;AAKA,WAAO;AACL,MAAA,UAAU,EAAV,UADK;AAEL,MAAA,SAAS,EAAT,SAFK;AAIL,MAAA,KAAK,EAAL,KAJK;AAKL,MAAA,WAAW,EAAX,WALK;AAML,MAAA,SAAQ,EAAR;AANK,KAAP;AAQD,GArDY;AAsDb,EAAA,UAAU,EAAE;AACV,IAAA,MAAM,EAAN,MADU;AAEV,IAAA,aAAa,EAAb,aAFU;AAGV,IAAA,UAAU,EAAV,UAHU;AAIV,IAAA,SAAQ,EAAR;AAJU;AAtDC,CAAf","sourcesContent":["<template>\n  <div>\n    <nav-bar>\n      <template v-slot:default>图书商城</template>\n    </nav-bar>\n    <div class=\"banners\">\n      <img src=\"~assets/images/1.png\" />\n    </div>\n    <recommend-view :recommends=\"recommends\"></recommend-view>\n    <tab-control :titles=\"['畅销','新书','精选']\" @tabClick=\"tabClickk\"></tab-control>\n    <goods-list :goods=\"showGoods\"></goods-list>\n   \n  </div>\n  \n</template>\n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\nimport RecommendView from \"views/home/ChildComps/RecommendView\";\nimport tabControl from \"components/content/tabControl/tabControl\";\nimport GoodsList from \"components/content/goods/GoodsList\";\nimport { getHomeAllData, getHomeGoods} from \"network/home\";\nimport { ref, reactive, onMounted,computed } from \"vue\";\n\n\nexport default {\n  name: \"Home\",\n  setup() {\n    const recommends = ref([]);\n    \n   \n    //商品列表数据模型\n    const goods=reactive({\n      sales:{page:0,list:[]},\n      new:{page:0,list:[]},\n      recommend:{page:0,list:[]}\n    })\n\n    let currentType=ref('sales');\n\n    const showGoods = computed(()=>{\n      return goods[currentType.value].list;\n      \n    })\n    \n    onMounted(() => {\n      \n      getHomeAllData().then((res) => {\n        recommends.value=res.goods.data;\n      })\n\n      getHomeGoods('sales').then(res=>{\n        goods.sales.list=res.goods.data;\n      })\n      getHomeGoods('recommend').then(res=>{\n        goods.recommend.list=res.goods.data;\n      })\n      getHomeGoods('new').then(res=>{\n        goods.new.list=res.goods.data;\n      })\n\n     \n      \n    })\n\n    const tabClickk=(index)=>{\n      let type=['sales','new','recommend'];\n      currentType.value=type[index];\n    }\n\n    return {\n      recommends,\n      tabClickk,\n     \n      goods,\n      currentType,\n      showGoods\n    };\n  },\n  components: {\n    NavBar,\n    RecommendView,\n    tabControl,\n    GoodsList\n    \n  },\n\n};\n</script>\n\n<style scoped>\n.banners img {\n  width: 100%;\n  height: auto;\n  margin-top: 45px;\n}\n</style>\n"],"sourceRoot":""}]}