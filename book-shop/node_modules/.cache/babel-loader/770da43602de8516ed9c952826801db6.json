{"remainingRequest":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\babel-loader\\lib\\index.js!D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\111study\\web\\js_vue\\ewshop\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue","mtime":1614936346849},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\111study\\web\\js_vue\\ewshop\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5hdkJhciBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9uYXZiYXIvTmF2QmFyIjsKaW1wb3J0IFJlY29tbWVuZFZpZXcgZnJvbSAidmlld3MvaG9tZS9DaGlsZENvbXBzL1JlY29tbWVuZFZpZXciOwppbXBvcnQgdGFiQ29udHJvbCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC90YWJDb250cm9sIjsKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0IjsKaW1wb3J0IHsgZ2V0SG9tZUFsbERhdGEsIGdldEhvbWVHb29kcyB9IGZyb20gIm5ldHdvcmsvaG9tZSI7CmltcG9ydCB7IHJlZiwgcmVhY3RpdmUsIG9uTW91bnRlZCwgY29tcHV0ZWQsIHdhdGNoRWZmZWN0LCBuZXh0VGljayB9IGZyb20gInZ1ZSI7CmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByZWNvbW1lbmRzID0gcmVmKFtdKTsgLy/llYblk4HliJfooajmlbDmja7mqKHlnosKCiAgICB2YXIgZ29vZHMgPSByZWFjdGl2ZSh7CiAgICAgIHNhbGVzOiB7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBsaXN0OiBbXQogICAgICB9LAogICAgICBuZXc6IHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIGxpc3Q6IFtdCiAgICAgIH0sCiAgICAgIHJlY29tbWVuZDogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgbGlzdDogW10KICAgICAgfQogICAgfSk7CiAgICB2YXIgY3VycmVudFR5cGUgPSByZWYoInNhbGVzIik7CiAgICB2YXIgc2hvd0dvb2RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZ29vZHNbY3VycmVudFR5cGUudmFsdWVdLmxpc3Q7CiAgICB9KTsKICAgIHZhciBic2Nyb2xsID0gcmVhY3RpdmUoe30pOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgZ2V0SG9tZUFsbERhdGEoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZWNvbW1lbmRzLnZhbHVlID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOwogICAgICBnZXRIb21lR29vZHMoInNhbGVzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBnb29kcy5zYWxlcy5saXN0ID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOwogICAgICBnZXRIb21lR29vZHMoInJlY29tbWVuZCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGdvb2RzLnJlY29tbWVuZC5saXN0ID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOwogICAgICBnZXRIb21lR29vZHMoIm5ldyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGdvb2RzLm5ldy5saXN0ID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOyAvLyDliJvlu7piZXR0ZXJzY3JvbGzlr7nosaEKCiAgICAgIGJzY3JvbGwgPSBuZXcgQlNjcm9sbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIud3JhcHBlciIpLCB7CiAgICAgICAgcHJvYmVUeXBlOiAzLAogICAgICAgIC8v5Y+q6KaB5Zyo6L+Q5Yqo5bCx6Kem5Y+Rc2Nyb2xs5LqL5Lu2CiAgICAgICAgY2xpY2s6IHRydWUsCiAgICAgICAgLy/mmK/lkKblhYHorrjngrnlh7sKICAgICAgICBwdWxsVXBMb2FkOiB0cnVlIC8v5LiK5ouJ5Yqg6L295pu05aSa77yM6buY6K6k5Li6ZmFsc2UKCiAgICAgIH0pOyAvLyDop6blj5Hmu5rliqjkuovku7YKCiAgICAgIGJzY3JvbGwub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChwb3NpdGlvbikgewogICAgICAgIGNvbnNvbGUubG9nKHBvc2l0aW9uLnkpOwogICAgICB9KTsgLy/kuIrmi4nliqDovb3mlbDmja7vvIzop6blj5FwdWxsaW5ndXAKCiAgICAgIGJzY3JvbGwub24oInB1bGxpbmd1cCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZyhsYW1vcmUpOwogICAgICB9KTsKICAgIH0pOwoKICAgIHZhciB0YWJDbGlja2sgPSBmdW5jdGlvbiB0YWJDbGlja2soaW5kZXgpIHsKICAgICAgdmFyIHR5cGUgPSBbInNhbGVzIiwgIm5ldyIsICJyZWNvbW1lbmQiXTsKICAgICAgY3VycmVudFR5cGUudmFsdWUgPSB0eXBlW2luZGV4XTsKICAgIH07IC8v55uR5ZCs5Lu75L2V5LiA5Liq5Y+Y6YeP5pyJ5Y+Y5YyWCgoKICAgIHdhdGNoRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8v6YeN5paw6K6h566X6auY5bqmCiAgICAgICAgYnNjcm9sbCAmJiBic2Nyb2xsLnJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHJlY29tbWVuZHM6IHJlY29tbWVuZHMsCiAgICAgIHRhYkNsaWNrazogdGFiQ2xpY2trLAogICAgICBnb29kczogZ29vZHMsCiAgICAgIGN1cnJlbnRUeXBlOiBjdXJyZW50VHlwZSwKICAgICAgc2hvd0dvb2RzOiBzaG93R29vZHMKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXI6IE5hdkJhciwKICAgIFJlY29tbWVuZFZpZXc6IFJlY29tbWVuZFZpZXcsCiAgICB0YWJDb250cm9sOiB0YWJDb250cm9sLAogICAgR29vZHNMaXN0OiBHb29kc0xpc3QKICB9Cn07"},{"version":3,"sources":["D:\\111study\\web\\js_vue\\ewshop\\src\\views\\home\\Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"home\">\n        <nav-bar>\n            <template v-slot:default>图书商城</template>\n        </nav-bar>\n        <div class=\"wrapper\">\n            <div class=\"content\">\n                <div class=\"banners\"><img src=\"~assets/images/1.png\" /></div>\n                <recommend-view :recommends=\"recommends\"></recommend-view>\n                <tab-control\n                    :titles=\"['畅销', '新书', '精选']\"\n                    @tabClick=\"tabClickk\"\n                ></tab-control>\n                <goods-list :goods=\"showGoods\"></goods-list>\n            </div>\n        </div>\n    </div>\n</template>                                     \n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\nimport RecommendView from \"views/home/ChildComps/RecommendView\";\nimport tabControl from \"components/content/tabControl/tabControl\";\nimport GoodsList from \"components/content/goods/GoodsList\";\nimport { getHomeAllData, getHomeGoods } from \"network/home\";\nimport { ref, reactive, onMounted, computed,watchEffect,nextTick} from \"vue\";\nimport BScroll from 'better-scroll';\n\nexport default {\n    name: \"Home\",\n    setup() {\n        const recommends = ref([]);\n\n        //商品列表数据模型\n        const goods = reactive({\n            sales: { page: 0, list: [] },\n            new: { page: 0, list: [] },\n            recommend: { page: 0, list: [] },\n        });\n\n        let currentType = ref(\"sales\");\n        const showGoods = computed(() => {\n            return goods[currentType.value].list;\n        });\n\n        let bscroll=reactive({});\n\n        onMounted(() => {\n            getHomeAllData().then((res) => {\n               \n                recommends.value = res.goods.data;\n            });\n\n            getHomeGoods(\"sales\").then((res) => {\n                console.log(res);\n                goods.sales.list = res.goods.data;\n            });\n            getHomeGoods(\"recommend\").then((res) => {\n                goods.recommend.list = res.goods.data;\n            });\n            getHomeGoods(\"new\").then((res) => {\n                goods.new.list = res.goods.data;\n            });\n\n            // 创建betterscroll对象\n            bscroll = new BScroll(document.querySelector(\".wrapper\"), {\n                \n                probeType: 3,//只要在运动就触发scroll事件\n                click: true,//是否允许点击\n                pullUpLoad:true//上拉加载更多，默认为false\n            });\n\n            // 触发滚动事件\n            bscroll.on('scroll',(position)=>{\n                console.log(position.y);\n            })\n\n            //上拉加载数据，触发pullingup\n            bscroll.on(\"pullingup\",()=>{\n                console.log(lamore);\n                \n            })\n        });\n\n        const tabClickk = (index) => {\n            let type = [\"sales\", \"new\", \"recommend\"];\n            currentType.value = type[index];\n        };\n\n        //监听任何一个变量有变化\n        watchEffect(()=>{\n            nextTick(()=>{\n                //重新计算高度\n                bscroll&&bscroll.refresh();\n            })\n        })\n        return {\n            recommends,\n            tabClickk,\n            goods,\n            currentType,\n            showGoods,\n        };\n    },\n    components: {\n        NavBar,\n        RecommendView,\n        tabControl,\n        GoodsList,\n    },\n};\n</script>\n\n<style scoped>\n.banners img {\n    width: 100%;\n    height: auto;\n    margin-top: 45px;\n}\n#home {\n    height: 100vh;\n    position: relative;\n}\n.wrapper {\n    position: absolute;\n    top: 45px;\n    bottom: 50px;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n}\n.content {\n    \n}\n</style>\n"],"sourceRoot":""}]}